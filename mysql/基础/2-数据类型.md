# MySQL数据类型

标签（空格分隔）： MySQL

---

### 1 基本数字类型
> MySQL支持所有标准SQL中的数值类型，其中包括严格数值类型（Integer , SmallInt , Decimal 和 Numeric）,以及近似数值数据类型（Float ， Real 和 Double Precision），并在此基础上做了扩展。扩展后增加了TinyInt、MediumInt、和BigInt这3中长度不同的整型，并增加了Bit类型，用来存储位数据。


类型 | 字节 | 最小值 | 最大值 |
:--- | :---- | :---- | :----
TinyInt|1|有符号-128<br>无符号0|有符号127<br>无符号255
SmallInt|2|有符号-32768<br>无符号0|有符号32767<br>无符号65535
MediumInt|3|有符号-8388608<br>无符号0|有符号8388607<br>无符号1677215
Int|4|有符号-2147483648<br>无符号0|有符号2147483647<br>无符号4294967295
BigInt|8|有符号-9223372036854775808<br>无符号0|有符号9223372036854775807<br>无符号18446744073709551615
Float|4|±1.175494351E-38|±3.402823466E+38
Double|8|±2.2250738585072014E-308|±1.7976931348623157E+308
Bit(M)|1-8|Bit(1)|Bit(8)
Decimal（M,D）|M+2|最大取值范围与Double相同，给定Decimal的有效取值范围由M和D决定


----------


### 1.1 zerofill
>在创建字段时如加上zerofill,如：create table t_test(t_num int(11) zerofill);则该字段会使用“0”填充剩余位数空间。比如insert into t_test(t_num) values(12345);
字段值该显示为00000012345。

>所有整数类型都有一个可选属性Unsigned（无符号），如果需要在字段里面保存非负数或者需要较大的上限值时，可以用此选项，它的取值范围时正常值的下限取0，上限取原值的2倍，例如，TinyInt有符号范围是-128~127,而无符号范围是0~255。如果一个列指定为zerofill，则MySQL自动为该列添加Unsigned属性。


### 1.2 浮点数与定点数
>对于小数的表示，MySQL分为两种方式：浮点数和定点数。浮点数包括Float（单精度）和Double（双精度）。而定点数则只有Decimal一种表示。定点数在MySQL内部以字符串形式存放，比浮点数更精确，适合用来表示货币等精度高的数据。

>浮点数和定点数都可以用类型名称后加“（M,D）”的方式来进行表示，“（M,D）”表示该值一共显示M位数字（整数位 +小数位），其中D位位于小数点后面，M和D又称为精度和标度。例如，定义为float（7,4）的一个列可以显示为-999.9999。MySQL保存值时进行四舍五入，因此如果在float（7,4）列内插入999.00009，近似结果是999.0001。**值得注意的是，浮点数后面跟“（M,D）”的用法是非标准用法，如果涉及数据库迁移，最好不要这么使用。** Float和Double在不指定精度时，默认会按照实际的精度（由实际的硬件和操作系统决定）来显示， **而Decimal在不指定精度时，默认的整数位为10，默认的小数位为0**

>浮点数如果不写精度和标度，则会按照实际精度显示，如果有精度和标度，则会自动将四舍五入后的结果插入，系统不会报错；定点数如果不写精度和标度，则按照默认值decimal（10,0）来进行操作，并且如果数据超越了精度和标度值，系统会报错。

### 2 日期时间类型

日期和时间类型 | 字节 | 最小值|最大值|
:------------- | :----| :---- | :----
Date|4|1000-01-01|9999-12-31
DateTime|8|1000-01-01 00:00:00|9999-12-31 23:59:59
Timestamp|4|19700101080001（1970-01-01 08:00:01）|2038年的某个时刻(2038-01-19 11:14:07)
Time|3|-838:59:59|838:59:59
Year|1|1901|2155

>  
  - 只表示年月日（yyyy/mm/dd）用Date类型；
  - 表示年月日时分秒(yyyy/mm/dd HH:mm:ss)用Datetime类型；     
  - 只表示时分秒（HH:mm:ss）用Time类型。
 
  > Timestamp值返回固定19个字符，如想获得具体数字值，应在Timestamp列添加“+0”。
  每种日期类型都有一个有效值范围，如果超出这个范围，在默认的SqlMode下，系统会进行错误提示，并将以零值来进行存储。
  MySQL会给表中第一个Timestamp字段设置默认值为系统日期（current_timestamp），如果有第二个Timestamp类型，则默认值设置为0值。只能存在一个current——Timestamp。
  Timestamp还与时区相关，当插入日期时，会先转换为本地时区后存放；而从数据库里面取出时，也同样需要将日期转换为本地时区后显示。
  Timestamp的取值范围要小于Datetime。
  
### 3 字符类型
>字符类型包括了Char、Varchar、Binary、Varbinary、Blob、Text、Enum和Set等多种字符串类型。

类型 | 字节 | 描述及存储需求|
:--------- | :---- | :------------
Char（M）|M|M为0-255之间的整数
Varchar（M）| |M为0-65535之间的整数，值的长度+1个字节
TinyBlob| |允许长度0-255字节，值的长度+1个字节
Blob| |允许长度0-65535字节，值的长度+2个字节
MediumBlob| |允许长度0-167772150字节，值的长度+3个字节
LongBlob| |允许长度0-4294967295字节，值的长度+4个字节
TinyText| |允许长度0-255字节，值的长度+2个字节
Text| |允许长度0-65535字节，值的长度+2个字节
MediumText| |允许长度0-167772150字节，值的长度+3个字节
LongText| |允许长度0-0-4294967295字节，值的长度+4个字节
VarBinary（M）| |允许长度0-M个字节的变长字节字符串，值的长度+1个字节
Binary（M）|M|允许长度0-M个字节的定长字节字符串

### 3.1 Char与Varchar
>Char与Varchar的主要区别在于存储方式不同，Char列的长度固定为创建表时声明的长度，长度为0-255；而Varchar列中的值为可变长字符串，长度可以指定为0-255或者65535之间的值。在检索的时候，**Char列删除了尾部的空格 ， 而Varchar则保留这些空格** 

### 3.2 Binary与VarBinary
>Binary和VarBinary类似于Char和Varchar不同的是它们包含二进制字符串而不包含非二进制字符串。

### 3.3 Enum
>枚举值的范围需要在创建表时通过枚举方式显示指定，对1-255成员的枚举需要1个字节存储；对于255-65535个成员，需要2个字节存储。最多允许有65535个成员。**枚举类型忽略大小写，对于插入不在枚举指定范围内的值时，并不会发生错误，而是插入了enum('M','F')的第一个值“M”**

### 3.4 Set
>Set和Enum类似，里面可包含0-64个成员，根据成员的不同，存储上也有所不同。
>
 - 1-8成员的集合，占1个字节；
 - 9-16成员的集合，占2个字节；
 - 17-24成员的集合，占3个字节；
 - 25-32成员的集合，占4个字节；
 - 33-64成员的集合，占8个字节；

>Set和Enum最主要的区别在于Set类型一次可以选取多个成员，而Enum只能选一个。
Set类型可以从允许值集合中选择任意1个或多个元素进行组合，**对于超出允许值范围的值例如set（'a','b','c'，'d'）中插入('a,d,f')将不允许插入。而包含重复成员的集合将只取一次**

